(this["webpackJsonprick-morty-test-task"]=this["webpackJsonprick-morty-test-task"]||[]).push([[0],{27:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var r,c=a(19),n=a(1),s=a.n(n),i=a(8),o=a(3),l=(a(27),a(2)),u=a(16),d=a.n(u),j=a(20),h=a(22),b=a(13);!function(e){e.SET_CHARACTERS="SET_CHARACTERS",e.HANDLE_PAGE="HANDLE_PAGE",e.HANDLE_SEARCH="HANDLE_SEARCH",e.HANDLE_STATUS="HANDLE_STATUS",e.HANDLE_GENDER="HANDLE_GENDER",e.SET_FAVORITS="SET_FAVORITS",e.REMOVE_FAVORITS="REMOVE_FAVORITS"}(r||(r={}));var O=function(e){var t=e.AllCharacters,a=e.nbPages,c=e.nextPage,n=e.prevPage;return{type:r.SET_CHARACTERS,payload:{AllCharacters:t,nbPages:a,nextPage:c,prevPage:n}}},p=function(e,t){switch(t.type){case r.SET_CHARACTERS:return Object(l.a)(Object(l.a)({},e),{},{AllCharacters:Object(b.a)(t.payload.AllCharacters),nextPage:t.payload.nextPage,prevPage:t.payload.prevPage,nbPages:t.payload.nbPages});case r.HANDLE_PAGE:if("inc"===t.payload){var a=e.currentPage+1;return a>e.nbPages&&(a=1),Object(l.a)(Object(l.a)({},e),{},{currentPage:a})}if("dec"===t.payload){var c=e.currentPage-1;return c<1&&(c=e.nbPages),Object(l.a)(Object(l.a)({},e),{},{currentPage:c})}return Object(l.a)({},e);case r.HANDLE_SEARCH:return Object(l.a)(Object(l.a)({},e),{},{searchQuery:t.payload.query,currentPage:t.payload.query===e.searchQuery?e.currentPage:1});case r.HANDLE_STATUS:return Object(l.a)(Object(l.a)({},e),{},{statusQuery:t.payload.query});case r.HANDLE_GENDER:return Object(l.a)(Object(l.a)({},e),{},{genderQuery:t.payload.query});case r.SET_FAVORITS:if(e.FavoriteCharacters.find((function(e){return e.id===t.payload.id})))return Object(l.a)({},e);var n=[].concat(Object(b.a)(e.FavoriteCharacters),[t.payload]);return localStorage.FavoriteCharacters=JSON.stringify(n),Object(l.a)(Object(l.a)({},e),{},{FavoriteCharacters:[].concat(Object(b.a)(e.FavoriteCharacters),[t.payload])});case r.REMOVE_FAVORITS:var s=e.FavoriteCharacters.filter((function(e){return e.id!==t.payload.id}));return localStorage.FavoriteCharacters=JSON.stringify(s),Object(l.a)(Object(l.a)({},e),{},{FavoriteCharacters:e.FavoriteCharacters.filter((function(e){return e.id!==t.payload.id}))});default:return e}},x=a(0),v={AllCharacters:[],FavoriteCharacters:localStorage.getItem("FavoriteCharacters")?JSON.parse(localStorage.getItem("FavoriteCharacters")||"{}"):[],currentPage:1,nextPage:1,prevPage:1,nbPages:1,searchQuery:""},g=s.a.createContext(v),f=function(e){var t=e.children,a=Object(n.useReducer)(p,v),c=Object(h.a)(a,2),s=c[0],i=c[1],o=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetchCharacters",t),e.prev=1,e.next=4,fetch(t);case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,console.log("info",r.info),i(O({AllCharacters:r.results,nbPages:r.info.pages,nextPage:r.info.next,prevPage:r.info.prev})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("fetchCharacters ERROR:",e.t0),i(O(v));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){o("".concat("https://rickandmortyapi.com/api/character/?page=").concat(s.currentPage,"\n                     ").concat(s.searchQuery?"&name=".concat(s.searchQuery):"","\n                     ").concat(s.statusQuery?"&status=".concat(s.statusQuery):"","\n                     ").concat(s.genderQuery?"&gender=".concat(s.genderQuery):""))}),[s.currentPage,s.searchQuery,s.statusQuery,s.genderQuery]),console.log("data",s);return Object(x.jsx)(g.Provider,{value:Object(l.a)(Object(l.a)({},s),{},{handlePage:function(e){i(function(e){return{type:r.HANDLE_PAGE,payload:e}}(e))},handleSearch:function(e){var t=e.target.value;console.log(t),i(function(e){return{type:r.HANDLE_SEARCH,payload:{query:e}}}(t))},handleStatus:function(e){var t;i((t=e.target.value,{type:r.HANDLE_STATUS,payload:{query:t}}))},handleGender:function(e){var t;i((t=e.target.value,{type:r.HANDLE_GENDER,payload:{query:t}}))},favoritesHandler:function(e){i(function(e){return{type:r.SET_FAVORITS,payload:e}}(e))},favoritsRemove:function(e){i(function(e){return{type:r.REMOVE_FAVORITS,payload:e}}(e))}}),children:t})},m=function(){return Object(n.useContext)(g)},y=function(){var e=m(),t=e.searchQuery,a=e.handleSearch,r=e.handleStatus,c=e.handleGender;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("form",{className:"search-form",onSubmit:function(e){return e.preventDefault()},children:Object(x.jsx)("input",{type:"text",name:"text",className:"form-input",placeholder:"search by name",value:t,onChange:function(e){a&&a(e)}})}),Object(x.jsxs)("div",{className:"search-filters",children:[Object(x.jsxs)("select",{name:"character-status",className:"character-status",onChange:function(e){r&&r(e)},children:[Object(x.jsx)("option",{value:"",children:"Character Status"}),Object(x.jsx)("option",{value:"alive",children:"Alive "}),Object(x.jsx)("option",{value:"dead",children:"Dead "}),Object(x.jsx)("option",{value:"unknown",children:" Unknown"})]}),Object(x.jsxs)("select",{name:"character-gender",className:"character-gender",onChange:function(e){c&&c(e)},children:[Object(x.jsx)("option",{value:"",children:"Character Gender"}),Object(x.jsx)("option",{value:"female",children:"Female"}),Object(x.jsx)("option",{value:"male",children:"Male"}),Object(x.jsx)("option",{value:"genderless",children:"Genderless"}),Object(x.jsx)("option",{value:"unknown",children:" Unknown "})]})]})]})},E=function(e){var t=e.characters,a=e.title,r=m(),c=r.FavoriteCharacters,n=r.favoritesHandler,s=r.favoritsRemove;return Object(x.jsxs)("section",{className:"section ",children:[Object(x.jsxs)("div",{className:"single_story",children:[" ",Object(x.jsxs)("h3",{children:[" ",a,": "]})," "]}),Object(x.jsx)("div",{className:"container",children:null===t||void 0===t?void 0:t.map((function(e){var t=e.id,a=e.name,r=e.status,i=e.species,o=e.gender,l=e.image,u=e.origin,d=e.location,j=null===c||void 0===c?void 0:c.find((function(e){return e.id===t}));return Object(x.jsxs)("div",{className:"CharacterCard",children:[Object(x.jsx)("div",{className:"CharacterCard__image",style:{backgroundImage:"url(".concat(l,")")}}),Object(x.jsxs)("div",{className:"CharacterCard__description",children:[Object(x.jsxs)("div",{children:[" Name: ",a," "]}),Object(x.jsxs)("div",{children:[" Gender: ",o," "]}),Object(x.jsxs)("div",{children:[" Species: ",i]}),Object(x.jsxs)("div",{children:[" Status: ",r]}),Object(x.jsxs)("div",{children:[" Origin: ",u.name]}),Object(x.jsxs)("div",{children:[" Location: ",d.name]}),!j&&n&&Object(x.jsx)("div",{className:"favorites",onClick:function(){return n(e)},children:Object(x.jsx)("strong",{children:" To Favorites "})}),j&&s&&Object(x.jsx)("div",{className:"favorites",onClick:function(){return s(e)},children:Object(x.jsx)("strong",{children:" Kick out "})})]})]},t)}))})]})},C=function(){var e=m(),t=e.currentPage,a=e.nbPages,r=e.handlePage,c=function(e){r&&r(e)};return Object(x.jsxs)("div",{className:"btn-container",children:[Object(x.jsx)("button",{onClick:function(){return c("dec")},children:" Prev "}),Object(x.jsxs)("p",{children:[t," of ",a]}),Object(x.jsx)("button",{onClick:function(){return c("inc")},children:" Next "})]})},A=function(){var e=m().AllCharacters;return Object(x.jsxs)("div",{children:[Object(x.jsx)(y,{}),Object(x.jsx)(C,{}),Object(x.jsx)(E,{characters:e,title:"Characters"})]})},N=function(){var e={display:"block",width:"100%",height:"1px",backgroundColor:"#476a2e",margin:"20px 1px"};return Object(x.jsxs)("section",{className:"section about-section",children:[Object(x.jsx)("h1",{className:"section",children:"about"}),Object(x.jsx)("span",{style:e}),Object(x.jsx)("p",{className:"section",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi, delectus. Asperiores repudiandae quod architecto ea sunt voluptatem doloribus enim eaque, exercitationem voluptatum facilis iusto iste, accusantium eum officiis dignissimos tempora id suscipit ab esse quibusdam fugit, aperiam natus accusamus. Blanditiis temporibus eaque repellat sapiente, provident error! Placeat doloribus quia beatae."}),Object(x.jsx)("span",{style:e})]})},S=function(){var e=m().FavoriteCharacters;return Object(x.jsx)("div",{children:Object(x.jsx)(E,{characters:e,title:"Favorites"})})},P=function(){return Object(x.jsx)("section",{className:"error-page section",children:Object(x.jsxs)("div",{className:"error-container",children:[Object(x.jsx)("h1",{children:" \u041e\u0439 \u0442\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 "}),Object(x.jsxs)(i.b,{to:"/",className:"btn btn-primary",style:{marginTop:"50px"},children:[" ","Back to Home"," "]})]})})},R={display:"flex",justifyContent:"space-between",alignItems:"center",width:"var(--smallWidth)",margin:"0 auto",paddingTop:"15px",paddingBottom:"15px",maxWidth:"var(--max - width)"},_=function(){return Object(x.jsx)("nav",{className:"navbar",children:Object(x.jsxs)("div",{className:"nav-center",style:R,children:[Object(x.jsxs)(i.b,{to:"/",children:[Object(x.jsx)("img",{src:"https://klijin.github.io/rick-and-morty-api/static/media/logo.d4800c1d.png",alt:"logo_image",className:"logo"})," "]}),Object(x.jsxs)("ul",{className:"nav-links",children:[Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/favorites",children:" Favorites "})}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/",children:" Home "})}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/about",children:" About "})}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/error",children:"Error Page"})})]})]})})},T=function(){return Object(x.jsxs)(i.a,{children:[Object(x.jsx)(_,{}),Object(x.jsxs)(o.c,{children:[Object(x.jsxs)(o.a,{exact:!0,path:"/rick-and-morty-ts",children:["  ",Object(x.jsx)(A,{})," "]}),"  ",Object(x.jsx)(o.a,{exact:!0,path:"/",children:Object(x.jsx)(A,{})}),Object(x.jsx)(o.a,{exact:!0,path:"/favorites",children:Object(x.jsx)(S,{})}),Object(x.jsx)(o.a,{path:"/about",children:Object(x.jsx)(N,{})}),Object(x.jsx)(o.a,{path:"*",children:Object(x.jsx)(P,{})})]})]})},H=document.getElementById("root");Object(c.render)(Object(x.jsx)(f,{children:Object(x.jsx)(T,{})}),H)}},[[38,1,2]]]);
//# sourceMappingURL=main.7c2efc55.chunk.js.map